테이블 설계

정규화란?
데이터를 잘게 나눠 규칙(질서)를 정하는 작업
데이터가 커지면 꼬임, 중복, 오류가 발생되는데 이를 막기 위한 방법
공식정의 -> 데이터 중복과 이상현상을 제거하기 위해 테이블을 구조적으로 분해하는 과정

이상현상
1. 삽입 이상
	-학과명이 없어 학생을 등록 못한다.
	-학원에서 새로운 과정을 개설했다. 새 과정을 테이블에 저장해야

2. 갱신 이상
	-같은 정보가 여러 행에 중복돼 있어, 일부만 수정하면 데이터가 달라지는 문제

3. 삭제 이상
	-어떤 데이터를 지웠더니 원치않는 다른 데이터까지 같이 사라지는 문제


정규화 원칙
1. 한 테이블은 하나의 주제
2. 하나의 컬럼에는 하나의 값
3. 기본키로 모든 데이터 조회가 가능해야함
4. 파생 정보는 저장하지 않는다.
    -> 생년월일 저장했는데 나이를 또 저장하는것

정규화 단계
제 1정규화( 1NF ), 제 2정규화 ( 2NF ), 제 3정규화 ( 3NF )
보이스-코드 정규화( BCNF ), 제 4정규화( 4NF ),
제 5정규화( 5NF ), 도메인-키 정규화( DKNF ), 제 6정규화( 6NF )

제 1정규화
-> 테이블의 모든 컬럼에는 더이상 쪼갤 수 없는 원자값이어야한다.

제 2정규화
-> 1정규화를 만족하고 모든 컬럼이 기본키에 완전 종속 된다.

종속 판별
   A 값이 같으면 B값도 항상 같은가?
- A가 같은 행들이 여러개 있을때 B가 항상 동일해야 A->B 성립
id, student_id, student_name 컬럼이 있다면
 student_id -> student_name 성립이 되는지

   A 하나만으로 B를 결정할 수 있는가?
- A만 알면 B가 딱 하나로 확정 되는가

   예외 케이스가 존재 하는가?
- 종속은 대부분이 아니라 항상이어야 한다.
- 예외가 1개라도 있으면 그 종속은 성립하지 않거나 설계 규칙이 틀린거다.
- 데이터 저장이 잘못되었거나
- 업무 규칙이 애매하다

항상 하나로 정해지면 종속!

한 과정(course)에 여러 학생이 수강한다.
course_id -> student_id

프로젝트 팀구성에서 한 팀 안에서 팀원은 역할을 1개 갖는다.
(team_id, member_name) -> role

과정별 담당 강사가 기간에 따라 변경 될 수 있다.
course_id -> teacher_name

학생 id는 학원에서 유일하다.
student_id -> student_name

과정ID는 과정 하나를 의미한다.
course_id -> course_name

학생은 같은 과정에 한번만 등록 가능하다.
(student_id, course_id) -> enroll_date

3정규화
2정규화까지 만족해야 하고, 일반컬럼들 사이에 이행적 종속이 없도록 분해하기

PK가 어떤 데이터를 결정하고, 그 데이터가 다른 데이터를 결정해서 결국 PK가 
	간접적으로 결정하는 컬럼이 생기면 이행적 종속이라고 한다.

부분종속은 기본키의 일부에만 의존
이행적종속은 일반컬럼이 다른 컬럼을 거쳐 의존

1정규화
하나의 컬럼에는 하나의 값만
1정규화는 테이블 설계의 완성이 아니다. 형태를 정리하는 단계일뿐이다.
행만 늘려주고 끝나는 경우는 단순 반복, 같은 의미의 값 (좌석 테이블처럼 
테이블 분리가 필요한 경우 -> 의미가 다른 데이터
  -> 독립적으로 관리해야 할 데이터 (2정규화, 3정규화 해야된다.

2정규화
복합 PK를 가지는 경우에 2정규화를 적용한다.


3정규화
단일PK에 종속 되지않는(관련없는) 컬럼 분리하기














